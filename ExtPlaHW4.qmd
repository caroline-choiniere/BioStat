---
title: "Extinct Plants HW 4"
format: html
editor: visual
---

# Exploratory Analyses and Reporting

## Abstract

Briefly introduce the topic/subject

The data being worked with is from the International Union for Conservation of Nature (IUNC) Red List of Threatened Species (Version 2020-1). Florent Lavergne scrapped and prepared the *Plants in Danger* project to develop an info-graphic showing the biodiversity crisis plants are undergoing around the world. The data set is being used to explore the link between socio-economic activity and plant extinction. Determining if extinction risk varies by region is another potential use of the data set.

IUCN (2020) The IUCN Red List of Threatened Species. Version 2020-1.Â \
https://www.iucnredlist.org

## Intro

The IUCN Red List of Threatened Species (Version 2020-1) data comes from researchers who use the IUCN assessment procedure. Mosses, Ferns and Allies, Gymnosperms, and Flowering Plants were contributed to by multiple researchers as sources for the number of described species used in IUCN Red List version 2020-1: Table 1a.

Florent Lavergne and Cedric Scherer scrapped and prepared *Plants in Danger* data sets to make network maps that visually describe where plant extinction is taking place. The dataset is split into plants.csv, threats.csv and actions.csv. Variable types include double class, character class and description.

## Adding/Reading Data into Notebook

Splitting an available data set into an exploratory and test set to test inferential claims. Then conducting an exploratory analysis using exploratory set to generate some hypotheses. Chose to do the extinct plants data set on GitHub.

```{r}
plants <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2020/2020-08-18/plants.csv')
actions <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2020/2020-08-18/actions.csv')
threats <- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/main/data/2020/2020-08-18/threats.csv')
```

Opened tidyverse, and then read data into quarto notebook.

```{r}
library(tidyverse)
```

Split data into exploratory and test data using code below. Did make the mistake of not deciding which environment to use (e.g. plants) but rectified this.

```{r}
#install.packages("tidymodels")
library(tidymodels)

my_data_splits <- initial_split(plants, prop = 0.5)

exploratory_data <- training(my_data_splits)
test_data <- testing(my_data_splits)
```

```{r}
```

# Questions to investigate

#### Are there trends in binomial name where some plants across genus are more susceptible and does this translate to other locations? \>

#### Do climates contribute to the stressors associated with extinction in Asia or in other countries that share extinct plant range? \>

#### If there are reasons for plant extinction do they link to social or economic activity or is a main cause environment?

#### In higher stress scenarios, do the secondary metabolites activated cause chemical signals to activate in other plants and insects and in turn stress out other plants in the environment.

# Data Exploration

#### Going to try and do a count for categorical data and create a frequency table for the country variable.

```{r}
plants %>%
  count(country)
```

Going to try and install and run the kableExtra package to see if I can make it look nicer. Made it look nicer but there is too much going on to get a clear read of the table. Let's try graphing it.

```{r}
library(kableExtra)
plants %>%
  count(country, continent) %>%
  pivot_wider(names_from = continent, values_from = n, values_fill = 0) %>%
  kable() %>%
  kable_styling(bootstrap_options = c("hover", "striped"))
```

Going to try to use ggplot() to show the amount of extinct plants per country using one categorical variable.

Once executed, the x axis has too many countries to discern results, so I am going to try and put a limiter on the count to see what countries have the highest and lowest number of extinct plant species.

Actually I am going to switch it to continent for clarity.

```{r}
plants %>%
  ggplot() +
  geom_bar(mapping = aes(x = country)) +
  labs(title ="Counts of Extinct Plant Species",
       x = "country", y = "Count")
```

Going to try the sort function to figure out how to target variables differently. My goal is to sort and place a parameter to see if I can limit the amount of countries on the x-axis to make the histogram easier to process.

So I limited the amounts of countries on the y axis, and now I need to limit the amount of countries on the x axis.

```{r}
plants %>%
  ggplot() +
  coord_cartesian(xlim = c(0,100), ylim = c(15,100)) +
  geom_bar(mapping = aes(x = country)) +
  labs(title ="Counts of Extinct Plant Species",
       x = "country", y = "Count")
```

```{r}
plants %>%
  ggplot() +
  geom_bar(mapping = aes(x = continent)) +
  labs(title ="Counts of Extinct Plant Species by Continent",
       x = "Continent", y = "Count")
```

Trying the group_by function in a histogram.

```{r}
plants %>% 
  ggplot() +
  coord_cartesian(xlim = c(0,100), ylim = c(15,100)) +
  geom_bar(mapping = aes(x = country)) +
  labs(title ="Counts of Extinct Plant Species",
       x = "country", y = "Count")
```

Abstract and other exploration description can be in bullet points for submission this weekend. Like one paragraph for abstract and then 2-3 for the intro describing dataset and what you have learned from github to introduce the dataset and exploratory analysis

Feedback:

includes deciding to narrow exploratory analysis to one question. Determining if extinction risk varies by region??

Teacher Advice

-   start with analysis of the exploratory_data first, then use whole data set (plants) after refining analysis

-   potentially use the group_by function to group by continent and then summarise() on different threat columns.
